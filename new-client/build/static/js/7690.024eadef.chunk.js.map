{"version":3,"file":"static/js/7690.024eadef.chunk.js","mappings":"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","sources":["plugins/DocumentHandler/documentWindow/TableOfContents.js"],"sourcesContent":["import React from \"react\";\nimport { styled } from \"@mui/material/styles\";\nimport ExpandLessIcon from \"@mui/icons-material/ExpandLess\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport { withTheme } from \"@emotion/react\";\nimport {\n  Grid,\n  List,\n  ListItem,\n  ListItemText,\n  Button,\n  Collapse,\n} from \"@mui/material\";\n\nfunction NestedListItemRaw(props) {\n  return (\n    <ListItem\n      component=\"li\"\n      button\n      size=\"small\"\n      dense\n      onClick={props.onCLick}\n      style={{\n        paddingTop: 0,\n        paddingBottom: 0,\n        paddingLeft: props.theme.spacing(props.level * 3),\n      }}\n    >\n      <ListItemText>{props.children}</ListItemText>\n    </ListItem>\n  );\n}\n\nconst NestedListItem = withTheme(NestedListItemRaw);\n\nconst ListRoot = styled(List)(({ theme }) => ({\n  width: \"100%\",\n  padding: theme.spacing(0),\n}));\n\nconst StyledButton = styled(Button)(({ theme }) => ({\n  paddingLeft: \"0px\",\n  display: \"flex\",\n  justifyContent: \"space-between\",\n  \"&:focus-visible\": {\n    backgroundColor: theme.palette.action.selected,\n  },\n}));\n\nconst GridTableOfContents = styled(Grid)(({ theme }) => ({\n  //Need to manually change color when switching between dark/light-mode\n  backgroundColor:\n    theme.palette.mode === \"dark\"\n      ? theme.palette.grey[700]\n      : theme.palette.grey[200],\n\n  tapHighlightColor: \"transparent\",\n  cursor: \"pointer\",\n  paddingLeft: theme.spacing(2),\n  paddingRight: theme.spacing(2),\n  paddingTop: theme.spacing(1),\n  paddingBottom: theme.spacing(1),\n}));\n\nconst CollapseCollapseContainer = styled(Collapse)(({ theme }) => ({\n  width: \"100%\",\n}));\n\nclass TableOfContents extends React.PureComponent {\n  state = {\n    expanded: this.props.expanded,\n  };\n\n  static defaultProps = {\n    expanded: true,\n    title: \"InnehÃ¥ll\",\n  };\n\n  linkClick = (chapter) => {\n    const { localObserver } = this.props;\n    localObserver.publish(\"scroll-to-chapter\", chapter);\n  };\n  /**\n   * Render all chapters of the activeDocument.\n   * @param {Array} activeDocument An array with all chapters of the activeDocument.\n   *\n   * @memberof TableOfContents\n   */\n  renderChapters = (activeDocument) => {\n    let mainChapter = 0;\n    return (\n      <ListRoot aria-labelledby=\"nested-list-subheader\">\n        {Array.isArray(activeDocument?.chapters)\n          ? activeDocument.chapters.map((chapter) =>\n              this.renderSubChapters(chapter, 0, (++mainChapter).toString())\n            )\n          : null}\n      </ListRoot>\n    );\n  };\n\n  showSubChapter = (level) => {\n    const { chapterLevelsToShow } = this.props;\n    return level < chapterLevelsToShow;\n  };\n\n  /**\n   * Private help method that recursive renders all sub chapters of a chapter.\n   * @param {object} chapter A chapter with all it's sub chapters that will be rendered.\n   * @param {string} level A recursive level that help with the table construction.\n   * @param {number} subChapterNumber A counter of the current sub chapter number\n   *\n   * @memberof TableOfContents\n   */\n  renderSubChapters = (chapter, level, subChapterNumber) => {\n    if (!this.showSubChapter(level)) {\n      return null;\n    }\n    let newLevel = level + 1;\n    let number = 0;\n\n    return (\n      <React.Fragment key={chapter.header}>\n        <NestedListItem\n          chapter={chapter}\n          onCLick={() => {\n            this.linkClick(chapter);\n          }}\n          level={level}\n        >\n          {chapter.header}\n        </NestedListItem>\n        <List disablePadding>\n          {Array.isArray(chapter.chapters)\n            ? chapter.chapters.map((subChapter) =>\n                this.renderSubChapters(\n                  subChapter,\n                  newLevel,\n                  subChapterNumber.concat(\".\" + ++number)\n                )\n              )\n            : null}\n        </List>\n      </React.Fragment>\n    );\n  };\n\n  render() {\n    const { activeDocument, title, expanded, toggleCollapse } = this.props;\n\n    return (\n      <GridTableOfContents container>\n        <StyledButton\n          disableRipple\n          color=\"inherit\"\n          fullWidth\n          endIcon={\n            expanded ? (\n              <ExpandLessIcon></ExpandLessIcon>\n            ) : (\n              <ExpandMoreIcon></ExpandMoreIcon>\n            )\n          }\n          onClick={toggleCollapse}\n        >\n          {title}\n        </StyledButton>\n        <CollapseCollapseContainer\n          in={expanded}\n          id=\"expansion-panel-content\"\n          aria-hidden={!expanded}\n        >\n          <Grid container spacing={0}>\n            {this.renderChapters(activeDocument)}\n          </Grid>\n        </CollapseCollapseContainer>\n      </GridTableOfContents>\n    );\n  }\n}\n\nexport default TableOfContents;\n"],"names":["NestedListItem","withTheme","props","component","button","size","dense","onClick","onCLick","style","paddingTop","paddingBottom","paddingLeft","theme","spacing","level","children","ListRoot","styled","List","width","padding","StyledButton","Button","display","justifyContent","backgroundColor","palette","action","selected","GridTableOfContents","Grid","mode","grey","tapHighlightColor","cursor","paddingRight","CollapseCollapseContainer","Collapse","TableOfContents","state","expanded","linkClick","chapter","localObserver","publish","renderChapters","activeDocument","mainChapter","Array","isArray","chapters","map","renderSubChapters","toString","showSubChapter","chapterLevelsToShow","subChapterNumber","newLevel","number","header","disablePadding","subChapter","concat","this","title","toggleCollapse","container","disableRipple","color","fullWidth","endIcon","in","id","React","defaultProps"],"sourceRoot":""}